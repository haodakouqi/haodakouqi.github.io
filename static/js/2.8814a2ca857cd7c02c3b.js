webpackJsonp([2],{"8C4o":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("2ZGO"),a=r("P4ji"),s={data:function(){return{userName:sessionStorage.getItem("ms_username"),url:"",user_id:"",tableData:[],tableDataAll:[],importanceList:[],departmentList:[],progressList:[],successList:[],productLineList:[],s_product_line:"",s_progress:"",s_importance:"",s_success:"",currentPage:1,total:0,poc_id:"",downloadLoading:!1,listLoading:!0,pageSize:10,editVisible:!1,delVisible:!1,addVisible:!1,form:{poc_id:"",sequence_id:"",importance_id:"",department_id:"",progress_id:"",success_id:"",product_line_id:"",exchange_time_ts:"",create_time_ts:"",customer_name:"",project_name:"",manager:"",solution:"",product_function:"",communication_content:"",product_line_leader:"",stakeholder_duty:"",competitor:"",bid_winner:"",bid_money:"",risk_point:"",current_major_question:"",module:"",poc_status:"",exchange_persons:"",last_update:"",budget:"",work_load:"",instruction:"",data_collection:""},rules:{progress_id:[{required:!0,message:"必填项",trigger:"blur"}],importance_id:[{required:!0,message:"必填项",trigger:"blur"}],success_id:[{required:!0,message:"必填项",trigger:"blur"}],department_id:[{required:!0,message:"必填项",trigger:"blur"}],product_line_id:[{required:!0,message:"必填项",trigger:"blur"}],customer_name:[{required:!0,message:"必填项",trigger:"blur"}],project_name:[{required:!0,message:"必填项",trigger:"blur"}],manager:[{required:!0,message:"必填项",trigger:"blur"}],solution:[{required:!0,message:"必填项",trigger:"blur"}],create_time_ts:[{required:!0,message:"必填项",trigger:"blur"}],product_line_leader:[{required:!0,message:"必填项",trigger:"blur"}],stakeholder_duty:[{required:!1,message:"请输入主要干系人及职务",trigger:"blur"},{max:256,message:"长度不超过 256 个汉字",trigger:"blur"}],competitor:[{required:!1,message:"请输入主要竞争对手",trigger:"blur"},{max:256,message:"长度不超过 256 个汉字",trigger:"blur"}],risk_point:[{required:!1,message:"请输入风险点",trigger:"blur"},{max:256,message:"长度不超过 256 个汉字",trigger:"blur"}],current_major_question:[{required:!1,message:"请输入目前主要问题",trigger:"blur"},{max:512,message:"长度不超过 512 个汉字",trigger:"blur"}],instruction:[{required:!1,message:"请输入备注",trigger:"blur"},{max:512,message:"长度不超过 512 个汉字",trigger:"blur"}],budget:[{required:!1,message:"请输入项目金额估算",trigger:"blur"},{type:"number",message:"预算必须为数字值"}],communication_content:[{required:!1,message:"请输入交流内容",trigger:"blur"},{max:512,message:"长度不超过 512 个汉字"}]},idx:-1}},created:function(){this.user_id=sessionStorage.getItem("ms_userid"),this.getData(),this.getAll(),this.getFilters()},computed:{data:function(){return this.tableData},getSuccessData:function(){var e=this.$store.state.successData;return e.length>0&&e?e:this.successList},getStateData:function(){var e=this.$store.state.stateData;return e.length>0&&e?e:this.progressList},getLineData:function(){var e=this.$store.state.lineData;return e.length>0&&e?e:this.productLineList},getImportanceData:function(){var e=this.$store.state.importanceData;return e.length>0&&e?e:this.importanceList},getDepartmentData:function(){var e=this.$store.state.departmentData;return e.length>0&&e?e:this.departmentList}},watch:{currentPage:function(e){this.getData()}},methods:{userVali:function(){var e=this;this.$axios.get(a.a.userApi,{}).then(function(t){console.log(t.data.code),1==t.data.code&&e.$router.push("/"),2==t.data.code&&e.$router.push("/login")})},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getData:function(){var e=this;this.listLoading=!0,this.$axios.get(a.a.getDataApi,{params:{page:this.currentPage,per_page:this.pageSize,s_product_line:this.s_product_line,s_progress:this.s_progress,s_importance:this.s_importance,s_success:this.s_success},headers:{"user-name":this.userName}}).then(function(t){var r=t.data.data;e.tableData=r,e.total=t.data.totalCount,e.listLoading=!1})},getAll:function(){var e=this;this.$axios.get(a.a.getAllApi,{params:{s_product_line:this.s_product_line,s_progress:this.s_progress,s_importance:this.s_importance,s_success:this.s_success},headers:{"user-name":this.userName}}).then(function(t){var r=t.data.data;e.tableDataAll=r})},handleSearch:function(){var e=this;this.listLoading=!0,this.$axios.get(a.a.getDataApi,{params:{page:this.currentPage,per_page:this.pageSize,s_product_line:this.s_product_line,s_progress:this.s_progress,s_importance:this.s_importance,s_success:this.s_success},headers:{"user-name":this.userName}}).then(function(t){console.log(t);var r=t.data.data;e.tableData=r,e.total=t.data.totalCount,e.listLoading=!1})},getFilters:function(){this.importanceList=[],this.departmentList=[],this.progressList=[],this.successList=[],this.productLineList=[],this.dealList(this.importanceList,a.a.importanceApi),this.dealList(this.departmentList,a.a.departmentApi),this.dealList(this.progressList,a.a.progressApi),this.dealList(this.successList,a.a.successApi),this.dealList(this.productLineList,a.a.productlineApi)},resetForm:function(){this.form={poc_id:"",sequence_id:"",importance_id:"",department_id:"",progress_id:"",success_id:"",product_line_id:"",exchange_time_ts:"",create_time_ts:"",customer_name:"",project_name:"",manager:"",solution:"",product_function:"",communication_content:"",product_line_leader:"",stakeholder_duty:"",competitor:"",bid_winner:"",bid_money:"",risk_point:"",current_major_question:"",module:"",poc_status:"",exchange_persons:sessionStorage.getItem("ms_cn_name"),last_update:"",budget:"",work_load:"",instruction:"",data_collection:""}},dealList:function(e,t){this.$axios.get(t,{}).then(function(t){for(var r=t.data.data,o=0;o<r.length;o++){var a={};a.text=r[o].param_value,a.value=r[o].param_id,e.push(a)}})},dateFormat:function(e,t){var r=e[t.property];if(void 0==r)return"";r=new Date(Number(r));var a=Object(o.a)(r,"yyyy-MM-dd");return"1970-01-01"==a?"":a},filterHandler:function(e,t,r){var o=r.property,a=o.split(".");return a.length>1?t[a[0]].param_id===e:t[o]===e},handleDetail:function(e){this.$router.push({name:"detail",params:{sequence_id:e.sequence_id,customer_name:e.customer_name,product_line:e.product_line.param_value,project_name:e.project_name,poc_id:e.poc_id}})},getParamText:function(e,t){return e.find(function(e){return e.value===t}).text},handleEdit:function(e,t){this.idx=e;var r=this.tableData[e];this.form={poc_id:r.poc_id,sequence_id:r.sequence_id,importance_id:r.importance.param_id,department_id:r.department.param_id,progress_id:r.progress.param_id,success_id:r.success.param_id,product_line_id:r.product_line.param_id,exchange_time_ts:r.exchange_time_ts,create_time_ts:r.create_time_ts,customer_name:r.customer_name,project_name:r.project_name,manager:r.manager,solution:r.solution,product_function:r.product_function,communication_content:r.communication_content,product_line_leader:r.product_line_leader,stakeholder_duty:r.stakeholder_duty,competitor:r.competitor,bid_winner:r.bid_winner,bid_money:r.bid_money,risk_point:r.risk_point,current_major_question:r.current_major_question,module:r.module,poc_status:r.poc_status,exchange_persons:sessionStorage.getItem("ms_cn_name"),last_update:r.last_update,budget:r.budget,work_load:r.work_load,instruction:r.instruction,data_collection:r.data_collection},this.editVisible=!0},saveEdit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return e.$message.error("请正确填入信息"),!1;e.$axios({method:"post",url:a.a.saveEditBt,data:{poc_id:e.form.poc_id,sequence_id:e.form.sequence_id,importance_id:e.form.importance_id,department_id:e.form.department_id,progress_id:e.form.progress_id,success_id:e.form.success_id,product_line_id:e.form.product_line_id,exchange_time_ts:e.form.exchange_time_ts/1e3,create_time_ts:e.form.create_time_ts/1e3,customer_name:e.form.customer_name,project_name:e.form.project_name,manager:e.form.manager,solution:e.form.solution,product_function:e.form.product_function,communication_content:e.form.communication_content,product_line_leader:e.form.product_line_leader,stakeholder_duty:e.form.stakeholder_duty,competitor:e.form.competitor,bid_winner:e.form.bid_winner,bid_money:e.form.bid_money,risk_point:e.form.risk_point,current_major_question:e.form.current_major_question,module:e.form.module,poc_status:e.form.poc_status,exchange_persons:e.form.exchange_persons,budget:e.form.budget,work_load:e.form.work_load,instruction:e.form.instruction,data_collection:e.form.data_collection},headers:{"user-name":e.userName}}).then(function(t){e.form.importance={param_id:e.form.importance_id,param_value:e.getParamText(e.importanceList,e.form.importance_id)},e.form.department={param_id:e.form.department_id,param_value:e.getParamText(e.departmentList,e.form.department_id)},e.form.progress={param_id:e.form.progress_id,param_value:e.getParamText(e.progressList,e.form.progress_id)},e.form.success={param_id:e.form.success_id,param_value:e.getParamText(e.successList,e.form.success_id)},e.form.product_line={param_id:e.form.product_line_id,param_value:e.getParamText(e.productLineList,e.form.product_line_id)},e.$set(e.tableData,e.idx,e.form),e.editVisible=!1,e.$message.success("修改第 "+(e.idx+1)+" 行成功")})})},handleAdd:function(){this.resetForm(),this.addVisible=!0},saveAdd:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return e.$message.error("请正确填入信息"),!1;e.$axios({method:"post",url:a.a.saveAddBt,data:{user_id:e.user_id,importance_id:e.form.importance_id,department_id:e.form.department_id,progress_id:e.form.progress_id,success_id:e.form.success_id,product_line_id:e.form.product_line_id,exchange_time_ts:e.form.exchange_time_ts/1e3,create_time_ts:e.form.create_time_ts/1e3,sequence_id:e.form.sequence_id,customer_name:e.form.customer_name,project_name:e.form.project_name,manager:e.form.manager,solution:e.form.solution,product_function:e.form.product_function,communication_content:e.form.communication_content,product_line_leader:e.form.product_line_leader,stakeholder_duty:e.form.stakeholder_duty,competitor:e.form.competitor,bid_winner:e.form.bid_winner,bid_money:e.form.bid_money,risk_point:e.form.risk_point,current_major_question:e.form.current_major_question,module:e.form.module,poc_status:e.form.poc_status,exchange_persons:e.form.exchange_persons,budget:e.form.budget,work_load:e.form.work_load,instruction:e.form.instruction,data_collection:e.form.data_collection},headers:{"user-name":e.userName}}).then(function(t){e.form.importance={param_id:e.form.importance_id,param_value:e.getParamText(e.importanceList,e.form.importance_id)},e.form.department={param_id:e.form.department_id,param_value:e.getParamText(e.departmentList,e.form.department_id)},e.form.progress={param_id:e.form.progress_id,param_value:e.getParamText(e.progressList,e.form.progress_id)},e.form.success={param_id:e.form.success_id,param_value:e.getParamText(e.successList,e.form.success_id)},e.form.product_line={param_id:e.form.product_line_id,param_value:e.getParamText(e.productLineList,e.form.product_line_id)},e.tableData.unshift(e.form),e.addVisible=!1,e.$message.success("添加成功"),e.getData()})})},handleDelete:function(e,t){this.idx=e,this.delVisible=!0,this.poc_id=t.poc_id},deleteRow:function(){var e=this;this.$axios.delete(a.a.deleteBt+this.poc_id,{headers:{"user-name":this.userName}}).then(function(t){e.tableData.splice(e.idx,1),e.$message.success("删除成功"),e.delVisible=!1})},handleDownload:function(){var e=this;this.downloadLoading=!0,r.e(14).then(r.bind(null,"umYh")).then(function(t){var r=e.formatJson(["sequence_id","progress","importance","success","customer_name","project_name","department","manager","solution","product_line","product_function","create_time_ts","exchange_persons","exchange_time_ts","communication_content","product_line_leader","budget","work_load","stakeholder_duty","competitor","bid_winner","bid_money","risk_point","current_major_question","instruction"],e.tableDataAll);t.export_json_to_excel({header:["序号","状态","重要性","成功概率","客户名称","项目名称","主责事业部","客户经理","主责解决方案部","归属产品线","产品功能","建立时间","建立人","最新交流时间","最新交流内容","产品线负责人","项目金额估算","工作量估算","客户主要干系人及职务","主要竞争对手","中标方","中标金额","风险点","目前主要问题","备注"],data:r,filename:"my_poc"}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){if("exchange_time_ts"===e||"create_time_ts"===e){var r=new Date(Number(t[e]));return Object(o.a)(r,"yyyy-MM-dd")}return"importance"===e||"department"===e||"progress"===e||"success"===e||"product_line"===e?t[e].param_value:"poc_user"===e?t[e].user_name:t[e]})})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table"},[r("div",{staticClass:"container"},[r("div",{staticClass:"handle-box"},[r("el-row",{attrs:{gutter:25}},[r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleAdd}},[e._v("添加")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-download",loading:e.downloadLoading},on:{click:e.handleDownload}},[e._v("下载\n                    ")])],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择产品线"},model:{value:e.s_product_line,callback:function(t){e.s_product_line=t},expression:"s_product_line"}},e._l(e.getLineData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:e.s_progress,callback:function(t){e.s_progress=t},expression:"s_progress"}},e._l(e.getStateData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择重要性"},model:{value:e.s_importance,callback:function(t){e.s_importance=t},expression:"s_importance"}},e._l(e.getImportanceData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择成功概率"},model:{value:e.s_success,callback:function(t){e.s_success=t},expression:"s_success"}},e._l(e.getSuccessData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1),e._v(" "),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,border:"",stripe:"",align:"center"}},[r("el-table-column",{attrs:{align:"center",prop:"sequence_id",label:"序号",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"progress.param_value",label:"状态",width:"70"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"importance.param_value",label:"重要性",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"success.param_value",label:"成功概率",width:"90"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"客户名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.customer_name.length<11?r("div",[e._v(e._s(t.row.customer_name))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.customer_name))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.customer_name))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"项目名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.project_name.length<11?r("div",[e._v(e._s(t.row.project_name))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.project_name))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.project_name))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"department.param_value",label:"主责事业部",width:"110"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"客户经理",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.manager.length<11?r("div",[e._v(e._s(t.row.manager))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.manager))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.manager))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"主责解决方案",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.solution.length<11?r("div",[e._v(e._s(t.row.solution))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.solution))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.solution))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"product_line.param_value",label:"归属产品线",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"产品功能",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.product_function.length<11?r("div",[e._v(e._s(t.row.product_function))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.product_function))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.product_function))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"create_time_ts",sortable:"",label:"建立时间",width:"150",formatter:e.dateFormat}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"exchange_persons",label:"建立人",width:"100"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"exchange_time_ts",label:"最新交流时间",width:"150",formatter:e.dateFormat}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"最新交流内容",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.communication_content.length<11?r("div",[e._v(e._s(t.row.communication_content)+"\n                    ")]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.communication_content))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.communication_content))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"产品线负责人",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.product_line_leader.length<11?r("div",[e._v(e._s(t.row.product_line_leader))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.product_line_leader))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.product_line_leader))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"budget",label:"项目金额估算(万元)",width:"130"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"work_load",label:"原工作量初估(日月)",width:"130"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"客户主要干系人及职务",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.stakeholder_duty.length<11?r("div",[e._v(e._s(t.row.stakeholder_duty))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.stakeholder_duty))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.stakeholder_duty))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"主要竞争对手",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.competitor.length<11?r("div",[e._v(e._s(t.row.competitor))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.competitor))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.competitor))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"bid_winner",label:"中标方",width:"90"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"bid_money",label:"中标金额(万元)",width:"110"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"风险点",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.risk_point.length<11?r("div",[e._v(e._s(t.row.risk_point))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.risk_point))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.risk_point))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"目前主要问题",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.current_major_question.length<11?r("div",[e._v(e._s(t.row.current_major_question)+"\n                    ")]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.current_major_question))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.current_major_question))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.instruction.length<11?r("div",[e._v(e._s(t.row.instruction))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.instruction))]),e._v(" "),r("div",{staticClass:"more-text"},[e._v(e._s(t.row.instruction))])])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"128"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"small",type:"text"},on:{click:function(r){e.handleDetail(t.row)}}},[e._v("进展\n                    ")]),e._v(" "),r("el-button",{attrs:{size:"small",type:"text"},on:{click:function(r){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{staticStyle:{color:"red"},attrs:{size:"small",type:"text"},on:{click:function(r){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                    ")])]}}])})],1),e._v(" "),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{"current-page":e.currentPage,layout:"total,prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"60%",center:""},on:{"update:visible":function(t){e.editVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"170px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态",prop:"progress_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.progress_id,callback:function(t){e.$set(e.form,"progress_id",t)},expression:"form.progress_id"}},e._l(e.getStateData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"重要性",prop:"importance_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.importance_id,callback:function(t){e.$set(e.form,"importance_id",t)},expression:"form.importance_id"}},e._l(e.getImportanceData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"成功概率",prop:"success_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.success_id,callback:function(t){e.$set(e.form,"success_id",t)},expression:"form.success_id"}},e._l(e.getSuccessData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主责事业部",prop:"department_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.department_id,callback:function(t){e.$set(e.form,"department_id",t)},expression:"form.department_id"}},e._l(e.getDepartmentData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"归属产品线",prop:"product_line_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.product_line_id,callback:function(t){e.$set(e.form,"product_line_id",t)},expression:"form.product_line_id"}},e._l(e.getLineData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"客户名称",prop:"customer_name"}},[r("el-input",{model:{value:e.form.customer_name,callback:function(t){e.$set(e.form,"customer_name",t)},expression:"form.customer_name"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目名称",prop:"project_name"}},[r("el-input",{model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"客户经理",prop:"manager"}},[r("el-input",{model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager",t)},expression:"form.manager"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主责解决方案部",prop:"solution"}},[r("el-input",{model:{value:e.form.solution,callback:function(t){e.$set(e.form,"solution",t)},expression:"form.solution"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品功能"}},[r("el-input",{model:{value:e.form.product_function,callback:function(t){e.$set(e.form,"product_function",t)},expression:"form.product_function"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建立时间",prop:"create_time_ts"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd"},model:{value:e.form.create_time_ts,callback:function(t){e.$set(e.form,"create_time_ts",t)},expression:"form.create_time_ts"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建立人"}},[r("el-input",{model:{value:e.form.exchange_persons,callback:function(t){e.$set(e.form,"exchange_persons",t)},expression:"form.exchange_persons"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"最新交流时间"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd"},model:{value:e.form.exchange_time_ts,callback:function(t){e.$set(e.form,"exchange_time_ts",t)},expression:"form.exchange_time_ts"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"工作量估算(人月)"}},[r("el-input",{model:{value:e.form.work_load,callback:function(t){e.$set(e.form,"work_load",t)},expression:"form.work_load"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品线负责人",prop:"product_line_leader"}},[r("el-input",{model:{value:e.form.product_line_leader,callback:function(t){e.$set(e.form,"product_line_leader",t)},expression:"form.product_line_leader"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"中标方"}},[r("el-input",{model:{value:e.form.bid_winner,callback:function(t){e.$set(e.form,"bid_winner",t)},expression:"form.bid_winner"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目金额估算(万元)",prop:"budget"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.budget,callback:function(t){e.$set(e.form,"budget",e._n(t))},expression:"form.budget"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"中标金额(万元)"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.bid_money,callback:function(t){e.$set(e.form,"bid_money",t)},expression:"form.bid_money"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"最新交流内容",prop:"communication_content"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入最新交流内容(长度不超过 512 个字符)"},model:{value:e.form.communication_content,callback:function(t){e.$set(e.form,"communication_content",t)},expression:"form.communication_content"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"客户主要干系人及职务",prop:"stakeholder_duty"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入主要干系人及职务(长度不超过 256 个汉字)"},model:{value:e.form.stakeholder_duty,callback:function(t){e.$set(e.form,"stakeholder_duty",t)},expression:"form.stakeholder_duty"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"主要竞争对手",prop:"competitor"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入主要竞争对手(长度不超过 256 个字符)"},model:{value:e.form.competitor,callback:function(t){e.$set(e.form,"competitor",t)},expression:"form.competitor"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-form-item",{attrs:{label:"风险点",prop:"risk_point"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入风险点(长度不超过 256 个字符)"},model:{value:e.form.risk_point,callback:function(t){e.$set(e.form,"risk_point",t)},expression:"form.risk_point"}})],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"目前主要问题",prop:"current_major_question"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入目前主要问题(长度不超过 512 个字符)"},model:{value:e.form.current_major_question,callback:function(t){e.$set(e.form,"current_major_question",t)},expression:"form.current_major_question"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"备注",prop:"instruction"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注(长度不超过 512 个字符)"},model:{value:e.form.instruction,callback:function(t){e.$set(e.form,"instruction",t)},expression:"form.instruction"}})],1)],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{ref:"form",attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"添加",visible:e.addVisible,width:"60%",center:""},on:{"update:visible":function(t){e.addVisible=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,"status-icon":"",rules:e.rules,"label-width":"170px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态",prop:"progress_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.progress_id,callback:function(t){e.$set(e.form,"progress_id",t)},expression:"form.progress_id"}},e._l(e.getStateData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"重要性",prop:"importance_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.importance_id,callback:function(t){e.$set(e.form,"importance_id",t)},expression:"form.importance_id"}},e._l(e.getImportanceData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"成功概率",prop:"success_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.success_id,callback:function(t){e.$set(e.form,"success_id",t)},expression:"form.success_id"}},e._l(e.getSuccessData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主责事业部",prop:"department_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.department_id,callback:function(t){e.$set(e.form,"department_id",t)},expression:"form.department_id"}},e._l(e.getDepartmentData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"归属产品线",prop:"product_line_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.product_line_id,callback:function(t){e.$set(e.form,"product_line_id",t)},expression:"form.product_line_id"}},e._l(e.getLineData,function(e){return r("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}))],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"客户名称",prop:"customer_name"}},[r("el-input",{model:{value:e.form.customer_name,callback:function(t){e.$set(e.form,"customer_name",t)},expression:"form.customer_name"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目名称",prop:"project_name"}},[r("el-input",{model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"客户经理",prop:"manager"}},[r("el-input",{model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager",t)},expression:"form.manager"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主责解决方案部",prop:"solution"}},[r("el-input",{model:{value:e.form.solution,callback:function(t){e.$set(e.form,"solution",t)},expression:"form.solution"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品功能"}},[r("el-input",{model:{value:e.form.product_function,callback:function(t){e.$set(e.form,"product_function",t)},expression:"form.product_function"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建立时间",prop:"create_time_ts"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd"},model:{value:e.form.create_time_ts,callback:function(t){e.$set(e.form,"create_time_ts",t)},expression:"form.create_time_ts"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建立人"}},[r("el-input",{model:{value:e.form.exchange_persons,callback:function(t){e.$set(e.form,"exchange_persons",t)},expression:"form.exchange_persons"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"最新交流时间"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd"},model:{value:e.form.exchange_time_ts,callback:function(t){e.$set(e.form,"exchange_time_ts",t)},expression:"form.exchange_time_ts"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"工作量估算(人月)"}},[r("el-input",{model:{value:e.form.work_load,callback:function(t){e.$set(e.form,"work_load",t)},expression:"form.work_load"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品线负责人",prop:"product_line_leader"}},[r("el-input",{model:{value:e.form.product_line_leader,callback:function(t){e.$set(e.form,"product_line_leader",t)},expression:"form.product_line_leader"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"中标方"}},[r("el-input",{model:{value:e.form.bid_winner,callback:function(t){e.$set(e.form,"bid_winner",t)},expression:"form.bid_winner"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目金额估算(万元)",prop:"budget"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.budget,callback:function(t){e.$set(e.form,"budget",e._n(t))},expression:"form.budget"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"中标金额(万元)"}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.bid_money,callback:function(t){e.$set(e.form,"bid_money",t)},expression:"form.bid_money"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"最新交流内容",prop:"communication_content"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入最新交流内容(长度不超过 512 个字符)"},model:{value:e.form.communication_content,callback:function(t){e.$set(e.form,"communication_content",t)},expression:"form.communication_content"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"客户主要干系人及职务",prop:"stakeholder_duty"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入主要干系人及职务(长度不超过 256 个汉字)"},model:{value:e.form.stakeholder_duty,callback:function(t){e.$set(e.form,"stakeholder_duty",t)},expression:"form.stakeholder_duty"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"主要竞争对手",prop:"competitor"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入主要竞争对手(长度不超过 256 个字符)"},model:{value:e.form.competitor,callback:function(t){e.$set(e.form,"competitor",t)},expression:"form.competitor"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-form-item",{attrs:{label:"风险点",prop:"risk_point"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入风险点(长度不超过 256 个字符)"},model:{value:e.form.risk_point,callback:function(t){e.$set(e.form,"risk_point",t)},expression:"form.risk_point"}})],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"目前主要问题",prop:"current_major_question"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入目前主要问题(长度不超过 512 个字符)"},model:{value:e.form.current_major_question,callback:function(t){e.$set(e.form,"current_major_question",t)},expression:"form.current_major_question"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"备注",prop:"instruction"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注(长度不超过 512 个字符)"},model:{value:e.form.instruction,callback:function(t){e.$set(e.form,"instruction",t)},expression:"form.instruction"}})],1)],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{ref:"form",attrs:{type:"primary"},on:{click:e.saveAdd}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[r("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")]),e._v(" "),r("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")])],1)])],1)},staticRenderFns:[]};var n=r("C7Lr")(s,l,!1,function(e){r("L4yK"),r("9sGq")},"data-v-879a7ef4",null);t.default=n.exports},"9sGq":function(e,t){},L4yK:function(e,t){}});