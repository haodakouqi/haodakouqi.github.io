webpackJsonp([3],{mVfc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("2ZGO"),a=r("P4ji"),s={data:function(){return{userName:sessionStorage.getItem("ms_username"),downloadLoading:!1,url:"",tableData:[],tableDataAll:[],importanceList:[],departmentList:[],progressList:[],successList:[],productLineList:[],s_product_line:"",s_progress:"",s_importance:"",s_success:"",currentPage:1,total:0,poc_id:"",listLoading:!0,pageSize:10,editVisible:!1,delVisible:!1,addVisible:!1,form:{poc_id:"",sequence_id:"",importance_id:"",department_id:"",progress_id:"",success_id:"",product_line_id:"",exchange_time_ts:"",create_time_ts:"",customer_name:"",project_name:"",manager:"",solution:"",product_function:"",communication_content:"",product_line_leader:"",stakeholder_duty:"",competitor:"",bid_winner:"",bid_money:"",risk_point:"",current_major_question:"",module:"",poc_status:"",exchange_persons:"",last_update:"",budget:"",work_load:"",instruction:"",data_collection:""},rules:{progress_id:[{required:!0,message:"必填项",trigger:"blur"}],importance_id:[{required:!0,message:"必填项",trigger:"blur"}],success_id:[{required:!0,message:"必填项",trigger:"blur"}],department_id:[{required:!0,message:"必填项",trigger:"blur"}],product_line_id:[{required:!0,message:"必填项",trigger:"blur"}],customer_name:[{required:!0,message:"必填项",trigger:"blur"}],project_name:[{required:!0,message:"必填项",trigger:"blur"}],manager:[{required:!0,message:"必填项",trigger:"blur"}],solution:[{required:!0,message:"必填项",trigger:"blur"}],create_time_ts:[{required:!0,message:"必填项",trigger:"blur"}],product_line_leader:[{required:!0,message:"必填项",trigger:"blur"}],stakeholder_duty:[{required:!1,message:"请输入主要干系人及职务",trigger:"blur"},{max:256,message:"长度不超过 256 个汉字",trigger:"blur"}],competitor:[{required:!1,message:"请输入主要竞争对手",trigger:"blur"},{max:256,message:"长度不超过 256 个汉字",trigger:"blur"}],risk_point:[{required:!1,message:"请输入风险点",trigger:"blur"},{max:256,message:"长度不超过 256 个汉字",trigger:"blur"}],current_major_question:[{required:!1,message:"请输入目前主要问题",trigger:"blur"},{max:512,message:"长度不超过 512 个汉字",trigger:"blur"}],instruction:[{required:!1,message:"请输入备注",trigger:"blur"},{max:512,message:"长度不超过 512 个汉字",trigger:"blur"}],budget:[{required:!1,message:"请输入项目金额估算",trigger:"blur"},{type:"number",message:"预算必须为数字值"}],communication_content:[{required:!1,message:"请输入交流内容",trigger:"blur"},{max:512,message:"长度不超过 512 个汉字"}]},idx:-1}},created:function(){this.getData(),this.getAll(),this.getFilters()},computed:{data:function(){return this.tableData},permission:function(){return 1==sessionStorage.getItem("ms_permission")},permission1:function(){return 1==sessionStorage.getItem("ms_permission")||2==sessionStorage.getItem("ms_permission")},getSuccessData:function(){var t=this.$store.state.successData;return t.length>0&&t?t:this.successList},getStateData:function(){var t=this.$store.state.stateData;return t.length>0&&t?t:this.progressList},getLineData:function(){var t=this.$store.state.lineData;return t.length>0&&t?t:this.productLineList},getImportanceData:function(){var t=this.$store.state.importanceData;return t.length>0&&t?t:this.importanceList},getDepartmentData:function(){var t=this.$store.state.departmentData;return t.length>0&&t?t:this.departmentList}},watch:{currentPage:function(t){this.getData()}},methods:{handleCurrentChange:function(t){this.currentPage=t,this.getData()},getData:function(){var t=this;this.listLoading=!0,this.$axios({method:"get",url:a.a.getDataBtl+"?poc_id=586&page="+this.currentPage+"&per_page=10",headers:{"user-name":this.userName}}).then(function(e){var r=e.data.data;t.tableData=r,t.total=e.data.totalCount,t.listLoading=!1})},getAll:function(){var t=this;this.$axios.get(a.a.getAllBtl,{params:{s_product_line:this.s_product_line,s_progress:this.s_progress,s_importance:this.s_importance,s_success:this.s_success},headers:{"user-name":this.userName}}).then(function(e){var r=e.data.data;t.tableDataAll=r})},handleSearch:function(){var t=this;this.listLoading=!0,this.currentPage=1,this.$axios.get(a.a.getDataBtl,{params:{page:this.currentPage,per_page:10,s_product_line:this.s_product_line,s_progress:this.s_progress,s_importance:this.s_importance,s_success:this.s_success},headers:{"user-name":this.userName}}).then(function(e){var r=e.data.data;t.tableData=r,t.total=e.data.totalCount,t.listLoading=!1})},getFilters:function(){this.importanceList=[],this.departmentList=[],this.progressList=[],this.successList=[],this.productLineList=[],this.dealList(this.importanceList,a.a.importanceApi),this.dealList(this.departmentList,a.a.departmentApi),this.dealList(this.progressList,a.a.progressApi),this.dealList(this.successList,a.a.successApi),this.dealList(this.productLineList,a.a.productlineApi)},dealList:function(t,e){this.$axios.get(e,{}).then(function(e){for(var r=e.data.data,o=0;o<r.length;o++){var a={};a.text=r[o].param_value,a.value=r[o].param_id,t.push(a)}})},resetForm:function(){this.form={poc_id:"",sequence_id:"",importance_id:"",department_id:"",progress_id:"",success_id:"",product_line_id:"",exchange_time_ts:"",create_time_ts:"",customer_name:"",project_name:"",manager:"",solution:"",product_function:"",communication_content:"",product_line_leader:"",stakeholder_duty:"",competitor:"",bid_winner:"",bid_money:"",risk_point:"",current_major_question:"",module:"",poc_status:"",exchange_persons:sessionStorage.getItem("ms_cn_name"),last_update:"",budget:"",work_load:"",instruction:"",data_collection:""}},dateFormat:function(t,e){var r=t[e.property];if(void 0==r)return"";r=new Date(Number(r));var a=Object(o.a)(r,"yyyy-MM-dd");return"1970-01-01"==a?"":a},filterHandler:function(t,e,r){var o=r.property,a=o.split(".");return a.length>1?e[a[0]].param_id===t:e[o]===t},handleDetail:function(t){this.$router.push({name:"detail",params:{sequence_id:t.sequence_id,customer_name:t.customer_name,product_line:t.product_line.param_value,project_name:t.project_name,poc_id:t.poc_id}})},getParamText:function(t,e){return t.find(function(t){return t.value===e}).text},handleEdit:function(t,e){this.idx=t;var r=this.tableData[t];this.form={poc_id:r.poc_id,sequence_id:r.sequence_id,importance_id:r.importance.param_id,department_id:r.department.param_id,progress_id:r.progress.param_id,success_id:r.success.param_id,product_line_id:r.product_line.param_id,exchange_time_ts:r.exchange_time_ts,create_time_ts:r.create_time_ts,customer_name:r.customer_name,project_name:r.project_name,manager:r.manager,solution:r.solution,product_function:r.product_function,communication_content:r.communication_content,product_line_leader:r.product_line_leader,stakeholder_duty:r.stakeholder_duty,competitor:r.competitor,bid_winner:r.bid_winner,bid_money:r.bid_money,risk_point:r.risk_point,current_major_question:r.current_major_question,module:r.module,poc_status:r.poc_status,exchange_persons:sessionStorage.getItem("ms_cn_name"),last_update:r.last_update,budget:r.budget,work_load:r.work_load,instruction:r.instruction,data_collection:r.data_collection},this.editVisible=!0},saveEdit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return t.$message.error("请正确填入信息"),!1;t.$axios({method:"post",url:a.a.saveEditBt,data:{poc_id:t.form.poc_id,sequence_id:t.form.sequence_id,importance_id:t.form.importance_id,department_id:t.form.department_id,progress_id:t.form.progress_id,success_id:t.form.success_id,product_line_id:t.form.product_line_id,exchange_time_ts:t.form.exchange_time_ts/1e3,create_time_ts:t.form.create_time_ts/1e3,customer_name:t.form.customer_name,project_name:t.form.project_name,manager:t.form.manager,solution:t.form.solution,product_function:t.form.product_function,communication_content:t.form.communication_content,product_line_leader:t.form.product_line_leader,stakeholder_duty:t.form.stakeholder_duty,competitor:t.form.competitor,bid_winner:t.form.bid_winner,bid_money:t.form.bid_money,risk_point:t.form.risk_point,current_major_question:t.form.current_major_question,module:t.form.module,poc_status:t.form.poc_status,exchange_persons:t.form.exchange_persons,last_update:t.form.last_update/1e3,budget:t.form.budget,work_load:t.form.work_load,instruction:t.form.instruction,data_collection:t.form.data_collection},headers:{"user-name":t.userName}}).then(function(e){console.log(e),t.form.importance={param_id:t.form.importance_id,param_value:t.getParamText(t.importanceList,t.form.importance_id)},t.form.department={param_id:t.form.department_id,param_value:t.getParamText(t.departmentList,t.form.department_id)},t.form.progress={param_id:t.form.progress_id,param_value:t.getParamText(t.progressList,t.form.progress_id)},t.form.success={param_id:t.form.success_id,param_value:t.getParamText(t.successList,t.form.success_id)},t.form.product_line={param_id:t.form.product_line_id,param_value:t.getParamText(t.productLineList,t.form.product_line_id)},t.$set(t.tableData,t.idx,t.form),t.editVisible=!1,t.$message.success("修改第 "+(t.idx+1)+" 行成功")})})},handleAdd:function(){this.resetForm(),this.addVisible=!0},handleDownload:function(){var t=this;this.downloadLoading=!0,r.e(14).then(r.bind(null,"umYh")).then(function(e){var r=t.formatJson(["sequence_id","progress","importance","success","customer_name","project_name","department","manager","solution","product_line","product_function","create_time_ts","exchange_persons","exchange_time_ts","communication_content","product_line_leader","budget","work_load","stakeholder_duty","competitor","bid_winner","bid_money","risk_point","current_major_question","instruction"],t.tableDataAll);e.export_json_to_excel({header:["序号","状态","重要性","成功概率","客户名称","项目名称","主责事业部","客户经理","主责解决方案部","归属产品线","产品功能","建立时间","建立人","最新交流时间","最新交流内容","产品线负责人","项目金额估算","工作量估算","客户主要干系人及职务","主要竞争对手","中标方","中标金额","风险点","目前主要问题","备注"],data:r,filename:"all_poc"}),t.downloadLoading=!1})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){if("exchange_time_ts"===t||"create_time_ts"===t){var r=new Date(Number(e[t]));return Object(o.a)(r,"yyyy-MM-dd")}return"importance"===t||"department"===t||"progress"===t||"success"===t||"product_line"===t?e[t].param_value:"poc_user"===t?e[t].user_name:e[t]})})},handleDelete:function(t,e){this.idx=t,this.delVisible=!0,this.poc_id=e.poc_id},deleteRow:function(){var t=this;this.$axios.delete(a.a.deleteBt+this.poc_id,{headers:{"user-name":this.userName}}).then(function(e){t.tableData.splice(t.idx,1),t.$message.success("删除成功"),t.delVisible=!1})}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table"},[r("div",{staticClass:"container"},[r("div",{staticClass:"handle-box"},[r("el-row",{attrs:{gutter:25}},[r("el-col",{attrs:{span:6}},[t.permission1?r("el-button",{attrs:{type:"primary",icon:"el-icon-download",loading:t.downloadLoading},on:{click:t.handleDownload}},[t._v("下载\n                    ")]):t._e()],1),t._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择产品线"},model:{value:t.s_product_line,callback:function(e){t.s_product_line=e},expression:"s_product_line"}},t._l(t.getLineData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择状态"},model:{value:t.s_progress,callback:function(e){t.s_progress=e},expression:"s_progress"}},t._l(t.getStateData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择重要性"},model:{value:t.s_importance,callback:function(e){t.s_importance=e},expression:"s_importance"}},t._l(t.getImportanceData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择成功概率"},model:{value:t.s_success,callback:function(e){t.s_success=e},expression:"s_success"}},t._l(t.getSuccessData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1),t._v(" "),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.data,border:"",stripe:"",align:"center"}},[r("el-table-column",{attrs:{align:"center",prop:"sequence_id",label:"序号",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"progress.param_value",label:"状态",width:"70"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"importance.param_value",label:"重要性",width:"80"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"success.param_value",label:"成功概率",width:"90"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"客户名称",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.customer_name.length<11?r("div",[t._v(t._s(e.row.customer_name))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.customer_name))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.customer_name))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"项目名称",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.project_name.length<11?r("div",[t._v(t._s(e.row.project_name))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.project_name))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.project_name))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"department.param_value",label:"主责事业部",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"客户经理",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.manager.length<11?r("div",[t._v(t._s(e.row.manager))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.manager))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.manager))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"主责解决方案",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.solution.length<11?r("div",[t._v(t._s(e.row.solution))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.solution))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.solution))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"product_line.param_value",label:"归属产品线",width:"120"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"产品功能",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.product_function.length<11?r("div",[t._v(t._s(e.row.product_function))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.product_function))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.product_function))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"create_time_ts",sortable:"",label:"建立时间",width:"150",formatter:t.dateFormat}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"exchange_persons",label:"建立人",width:"100"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"exchange_time_ts",label:"最新交流时间",width:"150",formatter:t.dateFormat}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"最新交流内容",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.communication_content.length<11?r("div",[t._v(t._s(e.row.communication_content)+"\n                    ")]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.communication_content))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.communication_content))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"产品线负责人",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.product_line_leader.length<11?r("div",[t._v(t._s(e.row.product_line_leader))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.product_line_leader))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.product_line_leader))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"budget",label:"项目金额估算(万元)",width:"130"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"work_load",label:"原工作量初估(人月)",width:"130"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"客户主要干系人及职务",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.stakeholder_duty.length<11?r("div",[t._v(t._s(e.row.stakeholder_duty))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.stakeholder_duty))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.stakeholder_duty))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"主要竞争对手",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.competitor.length<11?r("div",[t._v(t._s(e.row.competitor))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.competitor))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.competitor))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"bid_winner",label:"中标方",width:"90"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",prop:"bid_money",label:"中标金额(万元)",width:"110"}}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"风险点",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.risk_point.length<11?r("div",[t._v(t._s(e.row.risk_point))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.risk_point))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.risk_point))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"目前主要问题",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.current_major_question.length<11?r("div",[t._v(t._s(e.row.current_major_question)+"\n                    ")]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.current_major_question))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.current_major_question))])])]}}])}),t._v(" "),r("el-table-column",{attrs:{align:"center",label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.instruction.length<11?r("div",[t._v(t._s(e.row.instruction))]):r("el-tooltip",{attrs:{placement:"bottom"}},[r("div",{staticClass:"more-text-width",attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.row.instruction))]),t._v(" "),r("div",{staticClass:"more-text"},[t._v(t._s(e.row.instruction))])])]}}])}),t._v(" "),t.permission1?r("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"128"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"small",type:"text"},on:{click:function(r){t.handleDetail(e.row)}}},[t._v("进展\n                    ")]),t._v(" "),r("el-button",{attrs:{size:"small",type:"text"},on:{click:function(r){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),r("el-button",{staticStyle:{color:"red"},attrs:{size:"small",type:"text"},on:{click:function(r){t.handleDelete(e.$index,e.row)}}},[t._v("删除\n                    ")])]}}])}):t._e()],1),t._v(" "),r("div",{staticClass:"pagination"},[r("el-pagination",{attrs:{"current-page":t.currentPage,layout:"total,prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"60%",center:""},on:{"update:visible":function(e){t.editVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,"status-icon":"",rules:t.rules,"label-width":"170px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态",prop:"progress_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.progress_id,callback:function(e){t.$set(t.form,"progress_id",e)},expression:"form.progress_id"}},t._l(t.getStateData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"重要性",prop:"importance_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.importance_id,callback:function(e){t.$set(t.form,"importance_id",e)},expression:"form.importance_id"}},t._l(t.getImportanceData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"成功概率",prop:"success_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.success_id,callback:function(e){t.$set(t.form,"success_id",e)},expression:"form.success_id"}},t._l(t.getSuccessData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主责事业部",prop:"department_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.department_id,callback:function(e){t.$set(t.form,"department_id",e)},expression:"form.department_id"}},t._l(t.getDepartmentData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"归属产品线",prop:"product_line_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.product_line_id,callback:function(e){t.$set(t.form,"product_line_id",e)},expression:"form.product_line_id"}},t._l(t.getLineData,function(t){return r("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})}))],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"客户名称",prop:"customer_name"}},[r("el-input",{model:{value:t.form.customer_name,callback:function(e){t.$set(t.form,"customer_name",e)},expression:"form.customer_name"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目名称",prop:"project_name"}},[r("el-input",{model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"客户经理",prop:"manager"}},[r("el-input",{model:{value:t.form.manager,callback:function(e){t.$set(t.form,"manager",e)},expression:"form.manager"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"主责解决方案部",prop:"solution"}},[r("el-input",{model:{value:t.form.solution,callback:function(e){t.$set(t.form,"solution",e)},expression:"form.solution"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品功能"}},[r("el-input",{model:{value:t.form.product_function,callback:function(e){t.$set(t.form,"product_function",e)},expression:"form.product_function"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建立时间",prop:"create_time_ts"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd"},model:{value:t.form.create_time_ts,callback:function(e){t.$set(t.form,"create_time_ts",e)},expression:"form.create_time_ts"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建立人"}},[r("el-input",{model:{value:t.form.exchange_persons,callback:function(e){t.$set(t.form,"exchange_persons",e)},expression:"form.exchange_persons"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"最新交流时间"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择日期","value-format":"timestamp",format:"yyyy-MM-dd"},model:{value:t.form.exchange_time_ts,callback:function(e){t.$set(t.form,"exchange_time_ts",e)},expression:"form.exchange_time_ts"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"工作量估算(人月)"}},[r("el-input",{model:{value:t.form.work_load,callback:function(e){t.$set(t.form,"work_load",e)},expression:"form.work_load"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品线负责人",prop:"product_line_leader"}},[r("el-input",{model:{value:t.form.product_line_leader,callback:function(e){t.$set(t.form,"product_line_leader",e)},expression:"form.product_line_leader"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"中标方"}},[r("el-input",{model:{value:t.form.bid_winner,callback:function(e){t.$set(t.form,"bid_winner",e)},expression:"form.bid_winner"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"项目金额估算(万元)",prop:"budget"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.budget,callback:function(e){t.$set(t.form,"budget",t._n(e))},expression:"form.budget"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"中标金额(万元)"}},[r("el-input",{attrs:{type:"number"},model:{value:t.form.bid_money,callback:function(e){t.$set(t.form,"bid_money",e)},expression:"form.bid_money"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"最新交流内容",prop:"communication_content"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入最新交流内容(长度不超过 512 个字符)"},model:{value:t.form.communication_content,callback:function(e){t.$set(t.form,"communication_content",e)},expression:"form.communication_content"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"客户主要干系人及职务",prop:"stakeholder_duty"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入主要干系人及职务(长度不超过 256 个汉字)"},model:{value:t.form.stakeholder_duty,callback:function(e){t.$set(t.form,"stakeholder_duty",e)},expression:"form.stakeholder_duty"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"主要竞争对手",prop:"competitor"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入主要竞争对手(长度不超过 256 个字符)"},model:{value:t.form.competitor,callback:function(e){t.$set(t.form,"competitor",e)},expression:"form.competitor"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-form-item",{attrs:{label:"风险点",prop:"risk_point"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入风险点(长度不超过 256 个字符)"},model:{value:t.form.risk_point,callback:function(e){t.$set(t.form,"risk_point",e)},expression:"form.risk_point"}})],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"目前主要问题",prop:"current_major_question"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入目前主要问题(长度不超过 512 个字符)"},model:{value:t.form.current_major_question,callback:function(e){t.$set(t.form,"current_major_question",e)},expression:"form.current_major_question"}})],1)],1)],1),t._v(" "),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"备注",prop:"instruction"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注(长度不超过 512 个字符)"},model:{value:t.form.instruction,callback:function(e){t.$set(t.form,"instruction",e)},expression:"form.instruction"}})],1)],1)],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{ref:"form",attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")]),t._v(" "),r("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[r("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")]),t._v(" "),r("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};var i=r("C7Lr")(s,n,!1,function(t){r("wp2V")},"data-v-e26b139c",null);e.default=i.exports},wp2V:function(t,e){}});