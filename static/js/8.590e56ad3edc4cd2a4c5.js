webpackJsonp([8],{"7rkk":function(t,e){},NRsN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("P4ji"),i={data:function(){return{handleFlag:"",successLoading:!0,addVisible:!1,editVisible:!1,delVisible:!1,successData:[],del_id:"",form:{param_id:"",param_value:""},idx:-1}},created:function(){this.getSuccessData()},methods:{getFilters:function(t){for(var e=[],s=0;s<t.length;s++){var a={};a.text=t[s].param_value,a.value=t[s].param_id,e.push(a)}return e},getSuccessData:function(){var t=this;this.successLoading=!0,this.$axios.get(a.a.successApi,{}).then(function(e){t.successData=e.data.data,t.successLoading=!1,t.$store.commit("changSuccessData",t.getFilters(e.data.data))})},resetForm:function(){this.form={param_id:"",param_value:""}},successAdd:function(){this.resetForm(),this.addVisible=!0,this.handleFlag="successAdd"},saveAdd:function(){var t=this;this.$axios.post(a.a.saveAddPs,{param_value:this.form.param_value}).then(function(e){t.successData.unshift(t.form),t.addVisible=!1,t.$message.success("添加成功"),t.getSuccessData()})},successEdit:function(t,e){this.idx=t;var s=this.successData[t];this.form={param_value:s.param_value,param_id:s.param_id},this.editVisible=!0,this.handleFlag="successEdit"},saveEdit:function(){var t=this;this.$axios.post(a.a.saveEditPs,{param_id:this.form.param_id,param_value:this.form.param_value}).then(function(e){t.successData.unshift(t.form),t.editVisible=!1,t.$message.success("编辑成功"),t.getSuccessData()})},successDel:function(t,e){this.idx=t,this.delVisible=!0,this.del_id=e.param_id,this.handleFlag="successDel"},deleteRow:function(){var t=this;this.$axios.delete(a.a.deletePs+this.del_id,{}).then(function(e){t.successData.unshift(t.form),t.delVisible=!1,t.$message.success("删除成功"),t.getSuccessData()})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table"},[s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"container"},[s("div",{staticClass:"my-title"},[t._v("成功概率\n                    "),s("el-button",{staticClass:"add-btn-ps",attrs:{size:"small",type:"primary"},on:{click:t.successAdd}},[t._v("添加")])],1),t._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.successLoading,expression:"successLoading"}],staticStyle:{width:"100%"},attrs:{data:t.successData,border:"",stripe:""}},[s("el-table-column",{attrs:{align:"center",label:"序号",width:"100",prop:"param_id"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",label:"名称",prop:"param_value"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"small"},on:{click:function(s){t.successEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(s){t.successDel(e.$index,e.row)}}},[t._v("删除\n                            ")])]}}])})],1)],1)])],1),t._v(" "),s("el-dialog",{attrs:{title:"添加",visible:t.addVisible,width:"30%",center:""},on:{"update:visible":function(e){t.addVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"mini"}},[s("el-form-item",{attrs:{label:"添加值"}},[s("el-input",{model:{value:t.form.param_value,callback:function(e){t.$set(t.form,"param_value",e)},expression:"form.param_value"}})],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%",center:""},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"170px",size:"mini"}},[s("el-form-item",{attrs:{label:"编辑值"}},[s("el-input",{model:{value:t.form.param_value,callback:function(e){t.$set(t.form,"param_value",e)},expression:"form.param_value"}})],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[s("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=s("C7Lr")(i,l,!1,function(t){s("7rkk")},"data-v-50bdba48",null);e.default=o.exports}});