webpackJsonp([6],{T9Ku:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("P4ji"),s={data:function(){return{handleFlag:"",stateLoading:!0,addVisible:!1,editVisible:!1,delVisible:!1,stateData:[],del_id:"",form:{param_id:"",param_value:""},idx:-1}},created:function(){this.getStateData()},methods:{getFilters:function(t){for(var a=[],e=0;e<t.length;e++){var i={};i.text=t[e].param_value,i.value=t[e].param_id,a.push(i)}return a},getStateData:function(){var t=this;this.stateLoading=!0,this.$axios.get(i.a.progressApi,{}).then(function(a){t.stateData=a.data.data,t.stateLoading=!1,t.$store.commit("changStateData",t.getFilters(a.data.data))})},resetForm:function(){this.form={param_id:"",param_value:""}},stateAdd:function(){this.resetForm(),this.addVisible=!0,this.handleFlag="stateAdd"},saveAdd:function(){var t=this;this.$axios.post(i.a.saveAddPg,{param_value:this.form.param_value}).then(function(a){t.stateData.unshift(t.form),t.addVisible=!1,t.$message.success("添加成功"),t.getStateData()})},stateEdit:function(t,a){this.idx=t;var e=this.stateData[t];this.form={param_id:e.param_id,param_value:e.param_value},this.editVisible=!0,this.handleFlag="stateEdit"},saveEdit:function(){var t=this;this.$axios.post(i.a.saveEditPg,{param_id:this.form.param_id,param_value:this.form.param_value}).then(function(a){t.stateData.unshift(t.form),t.editVisible=!1,t.$message.success("编辑成功"),t.getStateData()})},stateDel:function(t,a){this.idx=t,this.delVisible=!0,this.del_id=a.param_id,this.handleFlag="stateDel"},deleteRow:function(){var t=this;this.$axios.delete(i.a.deletePg+this.del_id,{}).then(function(a){t.stateData.unshift(t.form),t.delVisible=!1,t.$message.success("删除成功"),t.getStateData()})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table"},[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"container"},[e("div",{staticClass:"my-title"},[t._v("状态\n                    "),e("el-button",{staticClass:"add-btn-ps",attrs:{size:"small",type:"primary"},on:{click:t.stateAdd}},[t._v("添加")])],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.stateLoading,expression:"stateLoading"}],staticStyle:{width:"100%"},attrs:{data:t.stateData,border:"",stripe:""}},[e("el-table-column",{attrs:{align:"center",label:"序号",width:"100",prop:"param_id"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"名称",prop:"param_value"}}),t._v(" "),e("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.stateEdit(a.$index,a.row)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.stateDel(a.$index,a.row)}}},[t._v("删除\n                            ")])]}}])})],1)],1)])],1),t._v(" "),e("el-dialog",{attrs:{title:"添加",visible:t.addVisible,width:"30%",center:""},on:{"update:visible":function(a){t.addVisible=a}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"mini"}},[e("el-form-item",{attrs:{label:"添加值"}},[e("el-input",{model:{value:t.form.param_value,callback:function(a){t.$set(t.form,"param_value",a)},expression:"form.param_value"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.addVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%",center:""},on:{"update:visible":function(a){t.editVisible=a}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"170px",size:"mini"}},[e("el-form-item",{attrs:{label:"编辑值"}},[e("el-input",{model:{value:t.form.param_value,callback:function(a){t.$set(t.form,"param_value",a)},expression:"form.param_value"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(a){t.delVisible=a}}},[e("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=e("C7Lr")(s,l,!1,function(t){e("eE8I")},"data-v-b7a2d050",null);a.default=o.exports},eE8I:function(t,a){}});