webpackJsonp([11],{"6jKO":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("P4ji"),l={data:function(){return{handleFlag:"",lineLoading:!0,addVisible:!1,editVisible:!1,delVisible:!1,lineData:[],del_id:"",form:{param_id:"",param_value:""},idx:-1}},created:function(){this.getLineData()},methods:{getFilters:function(t){for(var e=[],i=0;i<t.length;i++){var a={};a.text=t[i].param_value,a.value=t[i].param_id,e.push(a)}return e},getLineData:function(){var t=this;this.lineLoading=!0,this.$axios.get(a.a.productlineApi,{}).then(function(e){t.lineData=e.data.data,t.lineLoading=!1,t.$store.commit("changLineData",t.getFilters(e.data.data))})},resetForm:function(){this.form={param_id:"",param_value:""}},lineAdd:function(){this.resetForm(),this.addVisible=!0,this.handleFlag="lineAdd"},saveAdd:function(){var t=this;this.$axios.post(a.a.saveAddPP,{param_value:this.form.param_value}).then(function(e){t.lineData.unshift(t.form),t.addVisible=!1,t.$message.success("添加成功"),t.getLineData()})},lineEdit:function(t,e){this.idx=t;var i=this.lineData[t];this.form={param_value:i.param_value,param_id:i.param_id},this.editVisible=!0,this.handleFlag="lineEdit"},saveEdit:function(){var t=this;this.$axios.post(a.a.saveEditPP,{param_id:this.form.param_id,param_value:this.form.param_value}).then(function(e){t.lineData.unshift(t.form),t.editVisible=!1,t.$message.success("编辑成功"),t.getLineData()})},lineDel:function(t,e){this.idx=t,this.delVisible=!0,this.del_id=e.param_id,this.handleFlag="lineDel"},deleteRow:function(){var t=this;this.$axios.delete(a.a.deletePP+this.del_id,{}).then(function(e){t.lineData.unshift(t.form),t.delVisible=!1,t.$message.success("删除成功"),t.getLineData()})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"container"},[i("div",{staticClass:"my-title"},[t._v("归属产品线\n                    "),i("el-button",{staticClass:"add-btn-ps",attrs:{size:"small",type:"primary"},on:{click:t.lineAdd}},[t._v("添加")])],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.lineLoading,expression:"lineLoading"}],staticStyle:{width:"100%"},attrs:{data:t.lineData,border:"",stripe:""}},[i("el-table-column",{attrs:{align:"center",label:"序号",width:"100",prop:"param_id"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"名称",prop:"param_value"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(i){t.lineEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){t.lineDel(e.$index,e.row)}}},[t._v("删除\n                            ")])]}}])})],1)],1)])],1),t._v(" "),i("el-dialog",{attrs:{title:"添加",visible:t.addVisible,width:"30%",center:""},on:{"update:visible":function(e){t.addVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"mini"}},[i("el-form-item",{attrs:{label:"添加值"}},[i("el-input",{model:{value:t.form.param_value,callback:function(e){t.$set(t.form,"param_value",e)},expression:"form.param_value"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%",center:""},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"170px",size:"mini"}},[i("el-form-item",{attrs:{label:"编辑值"}},[i("el-input",{model:{value:t.form.param_value,callback:function(e){t.$set(t.form,"param_value",e)},expression:"form.param_value"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[i("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var s=i("C7Lr")(l,n,!1,function(t){i("EAWq")},"data-v-156373cc",null);e.default=s.exports},EAWq:function(t,e){}});