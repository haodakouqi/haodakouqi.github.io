webpackJsonp([7],{Yif6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("P4ji"),l={data:function(){return{handleFlag:"",departmentLoading:!0,addVisible:!1,editVisible:!1,delVisible:!1,departmentData:[],del_id:"",form:{param_id:"",param_value:""},idx:-1}},created:function(){this.getDepartmentData()},methods:{getFilters:function(t){for(var e=[],a=0;a<t.length;a++){var i={};i.text=t[a].param_value,i.value=t[a].param_id,e.push(i)}return e},getDepartmentData:function(){var t=this;this.departmentLoading=!0,this.$axios.get(i.a.departmentApi,{}).then(function(e){t.departmentData=e.data.data,t.departmentLoading=!1,t.$store.commit("changDepartmentData",t.getFilters(e.data.data))})},resetForm:function(){this.form={param_id:"",param_value:""}},departmentAdd:function(){this.resetForm(),this.addVisible=!0,this.handleFlag="departmentAdd"},saveAdd:function(){var t=this;this.$axios.post(i.a.saveAddPa,{param_value:this.form.param_value}).then(function(e){t.departmentData.unshift(t.form),t.addVisible=!1,t.$message.success("添加成功"),t.getDepartmentData()})},departmentEdit:function(t,e){this.idx=t;var a=this.departmentData[t];this.form={param_id:a.param_id,param_value:a.param_value},this.editVisible=!0,this.handleFlag="departmentEdit"},saveEdit:function(){var t=this;this.$axios.post(i.a.saveEditPa,{param_id:this.form.param_id,param_value:this.form.param_value}).then(function(e){t.departmentData.unshift(t.form),t.editVisible=!1,t.$message.success("编辑成功"),t.getDepartmentData()})},departmentDel:function(t,e){this.idx=t,this.delVisible=!0,this.del_id=e.param_id,this.handleFlag="departmentDel"},deleteRow:function(){var t=this;this.$axios.delete(i.a.deletePa+this.del_id,{}).then(function(e){t.departmentData.unshift(t.form),t.delVisible=!1,t.$message.success("删除成功"),t.getDepartmentData()})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"container"},[a("div",{staticClass:"my-title"},[t._v("主责事业部\n                    "),a("el-button",{staticClass:"add-btn-ps",attrs:{size:"small",type:"primary"},on:{click:t.departmentAdd}},[t._v("添加")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.departmentLoading,expression:"departmentLoading"}],staticStyle:{width:"100%"},attrs:{data:t.departmentData,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"100",prop:"param_id"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"名称",prop:"param_value"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.departmentEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.departmentDel(e.$index,e.row)}}},[t._v("\n                                删除\n                            ")])]}}])})],1)],1)])],1),t._v(" "),a("el-dialog",{attrs:{title:"添加",visible:t.addVisible,width:"30%",center:""},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"mini"}},[a("el-form-item",{attrs:{label:"添加值"}},[a("el-input",{model:{value:t.form.param_value,callback:function(e){t.$set(t.form,"param_value",e)},expression:"form.param_value"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%",center:""},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"170px",size:"mini"}},[a("el-form-item",{attrs:{label:"编辑值"}},[a("el-input",{model:{value:t.form.param_value,callback:function(e){t.$set(t.form,"param_value",e)},expression:"form.param_value"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var s=a("C7Lr")(l,n,!1,function(t){a("lUM9")},"data-v-a6f42b14",null);e.default=s.exports},lUM9:function(t,e){}});